/**
 * Sidebar-specific styles
 * 
 * Requirements:
 * - 2.3: Style active navigation item indicator
 * - 5.1: Style collapsed state icon-only view
 * - 5.2: Ensure tooltips appear correctly when collapsed
 * - 5.3: Style expand/collapse transitions
 * - 6.1: Use design tokens for colors and spacing
 * - 8.1: Use CSS variables instead of hardcoded colors
 */

/* ===== Hover Zone for Expanding Collapsed Sidebar ===== */

/* Hover zone that covers the sidebar when collapsed */
.sidebar-hover-zone {
  position: absolute;
  inset: 0;
  z-index: 5;
  /* Custom cursor using "|â†’" expand icon - 20x24 size (taller), black with white border for light mode */
  cursor:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='24' viewBox='0 0 20 24' fill='none' stroke-linecap='round' stroke-linejoin='round'%3E%3Cg stroke='%23ffffff' stroke-width='3'%3E%3Cline x1='4' y1='3' x2='4' y2='21'/%3E%3Cline x1='8' y1='12' x2='15' y2='12'/%3E%3Cpolyline points='12 9 15 12 12 15'/%3E%3C/g%3E%3Cg stroke='%23000000' stroke-width='1.5'%3E%3Cline x1='4' y1='3' x2='4' y2='21'/%3E%3Cline x1='8' y1='12' x2='15' y2='12'/%3E%3Cpolyline points='12 9 15 12 12 15'/%3E%3C/g%3E%3C/svg%3E")
      10 12,
    e-resize;
}

/* Dark mode cursor - white icon with dark border */
html.dark .sidebar-hover-zone {
  cursor:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='24' viewBox='0 0 20 24' fill='none' stroke-linecap='round' stroke-linejoin='round'%3E%3Cg stroke='%23000000' stroke-width='3'%3E%3Cline x1='4' y1='3' x2='4' y2='21'/%3E%3Cline x1='8' y1='12' x2='15' y2='12'/%3E%3Cpolyline points='12 9 15 12 12 15'/%3E%3C/g%3E%3Cg stroke='%23ffffff' stroke-width='1.5'%3E%3Cline x1='4' y1='3' x2='4' y2='21'/%3E%3Cline x1='8' y1='12' x2='15' y2='12'/%3E%3Cpolyline points='12 9 15 12 12 15'/%3E%3C/g%3E%3C/svg%3E")
      10 12,
    e-resize !important;
}

/* Ensure hover zone doesn't block button clicks - buttons should be above */
[data-sidebar="sidebar"] [data-sidebar="menu-button"],
[data-sidebar="sidebar"] [data-sidebar="trigger"],
[data-sidebar="sidebar"] [data-sidebar="header"],
[data-sidebar="sidebar"] [data-sidebar="footer"] {
  position: relative;
  z-index: 10;
}

/* ===== Global Icon Stroke Width ===== */

/* Make all SVG icons in sidebar have thinner strokes */
[data-sidebar="sidebar"] svg {
  stroke-width: 1.5;
}

/* ===== Collapsed State Styles ===== */

/* Icon-only view when collapsed */
[data-state="collapsed"] [data-sidebar="menu-button"] {
  justify-content: flex-start;
  padding-left: var(--spacing-2xl);
}

[data-state="collapsed"] [data-sidebar="menu-button"] span:last-child {
  display: none;
}

/* Icon stays in same absolute position when collapsed */
[data-state="collapsed"] [data-sidebar="menu-button"] svg {
  left: 0.6rem;
}

/* Smooth width transition for collapse/expand - slower and smoother */
[data-sidebar="sidebar"] {
  transition: width var(--sidebar-transition-duration) var(--sidebar-transition-easing) !important;
}

/* ===== Active Navigation Item Indicator ===== */

/* Active state styling with left border indicator */
[data-sidebar="menu-button"][data-active="true"] {
  position: relative;
  background-color: var(--color-sidebar-accent);
  color: var(--color-sidebar-accent-foreground);
  font-weight: 500;
}

/* Left border indicator for active item - DISABLED to remove bar */
[data-sidebar="menu-button"][data-active="true"]::before {
  content: none;
  display: none;
}

/* Active icon color */
[data-sidebar="menu-button"][data-active="true"] svg {
  color: var(--color-sidebar-primary);
}

/* ===== Tooltip Styles ===== */

/* Tooltip styling for collapsed state - add more spacing from sidebar */
[role="tooltip"] {
  z-index: 50;
  background-color: var(--color-popover);
  color: var(--color-popover-foreground);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: 0.875rem;
  box-shadow: var(--token-shadow-md);
  animation: tooltip-fade-in var(--transition-fast);
  margin-left: var(--spacing-lg) !important;
}

@keyframes tooltip-fade-in {
  from {
    opacity: 0;
    transform: translateX(-4px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Show expand trigger on hover when collapsed */
[data-state="collapsed"] [data-sidebar="header"]:hover .sidebar-trigger-hover {
  display: flex;
}

[data-state="collapsed"] [data-sidebar="header"] .sidebar-trigger-hover {
  display: none;
}

/* ===== Sidebar Rail (Resize Handle) ===== */

[data-sidebar="rail"] {
  opacity: 0;
  transition: opacity var(--transition-normal);
}

[data-sidebar="rail"]:hover,
.group:hover [data-sidebar="rail"] {
  opacity: 1;
}

[data-sidebar="rail"]:hover::after {
  background-color: var(--color-sidebar-ring);
}

/* ===== Header Logo Styles ===== */

/* Fix SidebarTrigger hover background in dark mode */
html.dark [data-sidebar="trigger"]:hover {
  background-color: var(--token-bg-hover) !important;
  color: var(--token-text-primary) !important;
}

/* ===== User Section Styles ===== */

/* User menu button hover state */
[data-sidebar="footer"] [data-sidebar="menu-button"]:hover {
  background-color: var(--color-sidebar-accent);
}

/* Avatar styling - always white text and consistent background */
[data-sidebar="footer"] .rounded-lg {
  background-color: var(--color-sidebar-primary);
  color: #ffffff;
  font-weight: 600;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Prevent avatar background from changing on hover */
[data-sidebar="footer"] [data-sidebar="menu-button"]:hover .rounded-lg,
[data-sidebar="footer"] [data-sidebar="menu-button"][data-state="open"] .rounded-lg {
  background-color: var(--color-sidebar-primary);
  color: #ffffff;
}

/* Avatar in dropdown menu should match sidebar avatar */
[role="menu"] .rounded-lg {
  background-color: var(--color-sidebar-primary);
  color: #ffffff;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Ensure dropdown avatar stays consistent in both light and dark mode */
html.dark [role="menu"] .rounded-lg {
  background-color: var(--color-sidebar-primary);
  color: #ffffff;
}

/* Reduce dropdown menu item padding to match sidebar buttons */
[data-radix-dropdown-menu-item],
div[role="menuitem"] {
  padding-top: var(--spacing-xs);
  padding-bottom: var(--spacing-xs);
}

/* Make dropdown menu label (header with avatar) more compact */
[data-radix-dropdown-menu-label] {
  padding-top: var(--spacing-sm);
  padding-bottom: var(--spacing-sm);
}

/* Reduce avatar size in dropdown header */
[role="menu"] [data-radix-dropdown-menu-label] .rounded-lg {
  height: 1.5rem;
  width: 1.5rem;
  font-size: 0.625rem;
}

/* Reduce text size in dropdown header */
[role="menu"] [data-radix-dropdown-menu-label] .font-semibold {
  font-size: 0.8125rem;
  line-height: 1.25rem;
}

/* Keep consistent button height in both collapsed and expanded states - only inside sidebar */
[data-sidebar="sidebar"] [data-sidebar="menu-button"] {
  height: 2.25rem;
  min-height: 2.25rem;
  max-height: 2.25rem;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  transition: background-color var(--transition-fast);
  overflow: hidden;
  box-sizing: border-box;
  padding: 0.125rem var(--spacing-sm);
  padding-left: var(--spacing-2xl);
  position: relative;
}

/* Position icons absolutely to keep them fixed */
[data-sidebar="menu-button"] svg {
  position: absolute;
  left: 0.6rem;
  flex-shrink: 0;
  width: 1rem;
  height: 1rem;
}

/* Text spacing when expanded - only for navigation buttons, not footer/avatar */
[data-sidebar="group"] [data-sidebar="menu-button"] span {
  margin-left: var(--spacing-sm) !important;
}

/* Reset spacing for footer/avatar text */
[data-sidebar="footer"] [data-sidebar="menu-button"] span {
  margin-left: 0 !important;
}

/* User section - use absolute positioning for avatar like navigation icons */
[data-sidebar="footer"] [data-sidebar="menu-button"] {
  padding-left: var(--spacing-2xl);
}

/* Position the Avatar wrapper (h-8 w-8) absolutely to keep it fixed */
[data-sidebar="footer"] [data-sidebar="menu-button"] > .h-8.w-8 {
  position: absolute;
  left: calc(0.6rem - 1px);
  top: 50%;
  transform: translateY(-50%);
  transition: none !important;
}

/* Ensure avatar fallback content is centered */
[data-sidebar="footer"] [data-sidebar="menu-button"] .rounded-lg {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* User name text div - ensure it doesn't overlap with avatar */
[data-sidebar="footer"] [data-sidebar="menu-button"] > div.grid {
  position: relative !important;
  z-index: 1 !important;
  margin-left: 2.25rem !important;
}

/* Chevron icon should use normal flow and stay on the right */
[data-sidebar="footer"] [data-sidebar="menu-button"] > svg {
  position: relative !important;
  left: auto !important;
}

/* User section collapsed state - keep avatar in same position */
[data-state="collapsed"] [data-sidebar="footer"] [data-sidebar="menu-button"] {
  padding: var(--spacing-xs) var(--spacing-sm) !important;
  padding-left: 2.25rem !important;
  justify-content: flex-start !important;
  height: 2rem !important;
}

/* Avatar stays in same position when collapsed */
[data-state="collapsed"] [data-sidebar="footer"] [data-sidebar="menu-button"] > .h-8.w-8 {
  left: calc(0.6rem - 1px) !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  transition: none !important;
}

/* Hide text content in user section when collapsed */
[data-state="collapsed"]
  [data-sidebar="footer"]
  [data-sidebar="menu-button"]
  > div:not(:first-child) {
  display: none;
}

/* Hide the chevron icon when collapsed - only for user menu (last menu in footer) */
[data-state="collapsed"]
  [data-sidebar="footer"]
  [data-sidebar="menu"]:last-child
  [data-sidebar="menu-button"]
  > svg {
  display: none;
}

/* Ensure avatar stays visible and centered when collapsed */
[data-state="collapsed"] [data-sidebar="footer"] [data-sidebar="menu-button"] .rounded-lg {
  margin: 0 !important;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  flex-shrink: 0 !important;
}

/* Keep avatar size consistent */
[data-sidebar="footer"] .rounded-lg {
  height: 2rem !important;
  width: 2rem !important;
  font-size: 0.75rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* ===== Dropdown Menu Styles ===== */

/* Theme indicator check mark */
[data-sidebar="footer"] [role="menuitem"] svg:last-child {
  color: var(--color-sidebar-primary);
}

/* ===== Scrollbar Styles for Sidebar Content ===== */

/* Hide horizontal scrollbar during transitions */
[data-sidebar="sidebar"],
[data-sidebar="content"] {
  overflow-x: hidden !important;
}

/* Spacing between header and first navigation group (New/Threat Catalog) - 1 button height */
[data-sidebar="content"] > [data-sidebar="group"]:first-child {
  margin-top: 2.25rem !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

/* Increase spacing between navigation menu items - higher specificity to override Tailwind */
[data-sidebar="sidebar"] [data-sidebar="menu"] {
  gap: 0.1rem;
}

/* Guides button - ensure it matches other navigation buttons */
.nav-guides-button {
  height: 2.25rem !important;
  min-height: 2.25rem !important;
  max-height: 2.25rem !important;
  padding-left: var(--spacing-2xl) !important;
  position: relative !important;
}

.nav-guides-icon {
  position: absolute !important;
  left: 0.6rem !important;
  width: 1.25rem !important;
  height: 1.25rem !important;
}

.nav-guides-button span {
  margin-left: var(--spacing-sm) !important;
}

/* Ensure chevron in Threat Models button doesn't overlap icon */
.threat-models-collapsible-trigger {
  display: flex !important;
  align-items: center !important;
  gap: var(--spacing-sm) !important;
}

.threat-models-collapsible-trigger > svg:last-child {
  margin-left: auto !important;
  position: relative !important;
  left: auto !important;
}

/* Submenu list items (guides and threat models) - smaller height and consistent text color */
.threat-model-item,
.guide-item {
  height: 1.75rem !important;
  min-height: 1.75rem !important;
  max-height: 1.75rem !important;
  padding: var(--spacing-xs) var(--spacing-sm) !important;
  font-size: 0.8125rem !important;
  color: var(--color-sidebar-accent-foreground) !important;
  background-color: transparent !important;
}

.threat-model-item:hover,
.guide-item:hover,
[data-sidebar="menu-button"].threat-model-item:hover,
[data-sidebar="menu-button"].guide-item:hover {
  background-color: var(--color-sidebar-accent) !important;
  color: var(--color-sidebar-accent-foreground) !important;
}

.threat-model-item[data-active="true"],
.guide-item[data-active="true"],
[data-sidebar="menu-button"].threat-model-item[data-active="true"],
[data-sidebar="menu-button"].guide-item[data-active="true"] {
  background-color: var(--color-sidebar-accent) !important;
  color: var(--color-sidebar-accent-foreground) !important;
  font-weight: 400 !important;
}

/* Remove absolute positioning for icons in submenu items */
.threat-model-item svg,
.guide-item svg {
  position: relative !important;
  left: auto !important;
}

/* Animation for newly added threat model */
@keyframes slideInNew {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.threat-model-new-item {
  animation: slideInNew 0.25s ease-out;
}

/* Collapsible content animations */
@keyframes collapsible-down {
  from {
    height: 0;
  }
  to {
    height: var(--radix-collapsible-content-height);
  }
}

@keyframes collapsible-up {
  from {
    height: var(--radix-collapsible-content-height);
  }
  to {
    height: 0;
  }
}

.animate-collapsible-down {
  animation: collapsible-down var(--transition-slow);
}

.animate-collapsible-up {
  animation: collapsible-up var(--transition-slow);
}

/* Style guide submenu items */
[data-sidebar="menu-sub"] {
  padding-left: var(--spacing-lg) !important;
  margin-top: var(--spacing-sm) !important;
  overflow: hidden;
}

[data-sidebar="menu-sub-button"] {
  padding: var(--spacing-sm) var(--spacing-sm) !important;
  font-size: 0.8125rem !important;
  color: var(--color-sidebar-foreground) !important;
  border-radius: var(--radius-sm) !important;
  transition:
    background-color var(--transition-fast),
    opacity var(--transition-normal),
    transform var(--transition-normal) !important;
  cursor: pointer !important;
  opacity: 0;
  transform: translateY(-4px);
  animation: slideInSubmenu var(--transition-normal) forwards;
}

@keyframes slideInSubmenu {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Stagger animation for multiple items */
[data-sidebar="menu-sub-button"]:nth-child(1) {
  animation-delay: 0.05s;
}
[data-sidebar="menu-sub-button"]:nth-child(2) {
  animation-delay: 0.1s;
}
[data-sidebar="menu-sub-button"]:nth-child(3) {
  animation-delay: 0.15s;
}
[data-sidebar="menu-sub-button"]:nth-child(4) {
  animation-delay: 0.2s;
}
[data-sidebar="menu-sub-button"]:nth-child(5) {
  animation-delay: 0.25s;
}
[data-sidebar="menu-sub-button"]:nth-child(6) {
  animation-delay: 0.3s;
}
[data-sidebar="menu-sub-button"]:nth-child(7) {
  animation-delay: 0.35s;
}

[data-sidebar="menu-sub-button"]:hover {
  background-color: var(--color-sidebar-accent) !important;
  color: var(--color-sidebar-accent-foreground) !important;
}

[data-sidebar="menu-sub-button"][data-active="true"] {
  background-color: var(--color-sidebar-accent) !important;
  color: var(--color-sidebar-primary) !important;
  font-weight: 500 !important;
}

[data-sidebar="content"]::-webkit-scrollbar {
  width: 6px;
}

[data-sidebar="content"]::-webkit-scrollbar-track {
  background: transparent;
}

[data-sidebar="content"]::-webkit-scrollbar-thumb {
  background-color: var(--color-sidebar-border);
  border-radius: 3px;
}

[data-sidebar="content"]::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-sidebar-foreground);
}

/* ===== Focus States for Accessibility ===== */

[data-sidebar="menu-button"]:focus-visible {
  outline: 2px solid var(--color-sidebar-ring);
  outline-offset: 2px;
}

[data-sidebar="rail"]:focus-visible {
  outline: 2px solid var(--color-sidebar-ring);
  outline-offset: -2px;
}

/* ===== Dropdown Menu Styles - Light Mode ===== */

[data-radix-dropdown-menu-item]:hover,
[data-radix-dropdown-menu-item][data-highlighted],
div[role="menuitem"]:hover,
div[role="menuitem"][data-highlighted] {
  background-color: var(--token-bg-hover);
  color: var(--token-text-primary);
}

/* ===== Dropdown Menu Dark Mode ===== */
/* Consolidated dark mode dropdown styles using design tokens */

html.dark [data-radix-dropdown-menu-content],
html.dark [data-radix-popper-content-wrapper] > div[role="menu"] {
  background-color: var(--token-bg-secondary) !important;
  color: var(--token-text-primary) !important;
  border-color: var(--token-border-primary) !important;
}

html.dark [data-radix-dropdown-menu-item],
html.dark div[role="menuitem"] {
  color: var(--token-text-primary) !important;
}

html.dark [data-radix-dropdown-menu-item]:hover,
html.dark [data-radix-dropdown-menu-item][data-highlighted],
html.dark div[role="menuitem"]:hover,
html.dark div[role="menuitem"][data-highlighted] {
  background-color: var(--token-bg-hover) !important;
  color: var(--token-text-primary) !important;
}

html.dark [data-radix-dropdown-menu-separator],
html.dark div[role="separator"] {
  background-color: var(--token-border-primary) !important;
}

html.dark [data-radix-dropdown-menu-label] {
  color: var(--token-text-primary) !important;
}

/* Target by Tailwind classes used in dropdown-menu.jsx */
html.dark .bg-popover {
  background-color: var(--token-bg-secondary) !important;
}

html.dark .text-popover-foreground {
  color: var(--token-text-primary) !important;
}

html.dark .bg-accent {
  background-color: var(--token-bg-hover) !important;
}

html.dark .text-accent-foreground {
  color: var(--token-text-primary) !important;
}

html.dark .bg-muted {
  background-color: var(--token-bg-hover) !important;
}

html.dark .text-muted-foreground {
  color: var(--token-text-muted) !important;
}

/* Also target tooltips in dark mode */
html.dark [role="tooltip"] {
  background-color: var(--token-bg-secondary) !important;
  color: var(--token-text-primary) !important;
  border-color: var(--token-border-primary) !important;
}

/* Fix dropdown trigger button in open state for dark mode */
html.dark [data-sidebar="footer"] [data-sidebar="menu-button"][data-state="open"] {
  background-color: var(--token-bg-hover) !important;
  color: var(--token-text-primary) !important;
}

/* ===== Avatar Border Removal ===== */
/* Consolidated avatar border removal for both light and dark modes */

html.dark [data-sidebar="footer"] [data-sidebar="menu-button"][data-state="open"] .rounded-lg,
html.dark [data-sidebar="footer"] [data-sidebar="menu-button"]:hover .rounded-lg {
  background-color: var(--color-sidebar-primary);
  color: #ffffff;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Remove all borders from avatar elements */
html.dark [data-sidebar="footer"] .rounded-lg,
html.dark [data-sidebar="footer"] .h-8,
html.dark [data-sidebar="footer"] .w-8,
html.dark [data-sidebar="footer"] .h-8.w-8,
html.dark [data-sidebar="footer"] [data-radix-avatar-root],
html.dark [data-sidebar="footer"] [data-radix-avatar-fallback],
html.dark [role="menu"] .rounded-lg,
html.dark [role="menu"] .h-8.w-8,
html.dark [role="menu"] [data-radix-avatar-root],
html.dark [role="menu"] [data-radix-avatar-fallback],
html.dark [data-radix-avatar-root],
html.dark [data-radix-avatar-fallback] {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  border-width: 0 !important;
  border-style: none !important;
  border-color: transparent !important;
}

/* Target all child elements of avatar */
html.dark [data-sidebar="footer"] .rounded-lg > *,
html.dark [data-sidebar="footer"] .h-8.w-8 > *,
html.dark [role="menu"] .rounded-lg > *,
html.dark [role="menu"] .h-8.w-8 > * {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  border-width: 0 !important;
  border-style: none !important;
}

/* ===== Cursor Styles ===== */

/* Show pointer cursor on all clickable sidebar buttons */
[data-sidebar="menu-button"],
[data-sidebar="trigger"] {
  cursor: pointer !important;
}

/* ===== Font and Icon Sizes ===== */

/* Increase font and icon sizes for better visual balance */
[data-sidebar="sidebar"] {
  font-size: 1rem !important;
}

/* Larger icons in sidebar */
[data-sidebar="sidebar"] svg {
  width: 1.25rem !important;
  height: 1.25rem !important;
}

/* Small chevron for Recently viewed header */
[data-sidebar="sidebar"] svg.recently-viewed-chevron {
  width: 14px !important;
  height: 14px !important;
}

/* Smaller text in menu buttons with fixed line height */
[data-sidebar="sidebar"] [data-sidebar="menu-button"] span {
  font-size: 0.8125rem;
  line-height: 1rem;
  margin: 0;
  padding: 0;
}

/* Logo smaller and more compact */
[data-sidebar="header"] img {
  height: 2rem;
  width: 2rem;
  object-fit: contain;
  position: relative;
  z-index: 10;
}

/* User name text - not bold, smaller */
[data-sidebar="footer"] .font-semibold {
  font-size: 0.875rem !important;
  font-weight: 400 !important;
}

/* Smaller avatar circle */
[data-sidebar="footer"] .rounded-lg {
  height: 1.5rem !important;
  width: 1.5rem !important;
  font-size: 0.375rem !important;
  font-weight: 400 !important;
  border-radius: 50% !important;
  flex-shrink: 0 !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Compact collapse/expand button */
[data-sidebar="trigger"] {
  width: 2.25rem !important;
  height: 2.25rem !important;
  min-width: 2.25rem !important;
  min-height: 2.25rem !important;
  max-width: 2.25rem !important;
  max-height: 2.25rem !important;
  padding: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

[data-sidebar="trigger"] svg {
  width: 1.25rem !important;
  height: 1.25rem !important;
}

/* Make user button same size as navigation buttons - fixed height to prevent vertical movement */
[data-sidebar="footer"] [data-sidebar="menu-button"] {
  padding: 0.125rem var(--spacing-sm);
  height: 2.25rem;
  min-height: 2.25rem;
  max-height: 2.25rem;
}

/* Override Avatar inline classes */
[data-sidebar="footer"] .h-8.w-8 {
  height: 1.5rem !important;
  width: 1.5rem !important;
}

/* Target AvatarFallback text specifically */
[data-sidebar="footer"] .rounded-lg.h-8.w-8 {
  font-size: 0.5rem !important;
  line-height: 1 !important;
}

/* Target the actual Radix Avatar Fallback element */
[data-sidebar="footer"] [data-radix-avatar-fallback] {
  font-size: 0.625rem !important;
  font-weight: 400 !important;
  line-height: 1 !important;
}

/* Also target by span inside avatar */
[data-sidebar="footer"] .rounded-lg span {
  font-size: 0.625rem !important;
  font-weight: 400 !important;
}

/* Move sidebar header (logo and button) higher and reduce spacing */
[data-sidebar="header"] {
  margin-top: -0.5rem;
  margin-bottom: 0;
  padding: var(--spacing-sm);
}

/* Collapse button should be below logo */
[data-sidebar="trigger"] {
  z-index: 5 !important;
}

/* Force slower sidebar width transition - target the actual animating elements */
.group.peer.hidden.md\\:block > div.relative,
.group.peer.hidden.md\\:block > div.fixed {
  transition: width 600ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Also target by data attributes */
[data-sidebar="sidebar"],
.group[data-state] > div {
  transition-duration: 600ms !important;
}

/* ===== NAV GUIDES FOOTER STYLES ===== */
/* Guides button in footer - ensure icon is visible */
[data-sidebar="footer"] [data-sidebar="menu"]:first-child [data-sidebar="menu-button"] {
  padding-left: var(--spacing-2xl) !important;
  position: relative !important;
}

/* Position the BookOpen icon absolutely like other nav icons */
[data-sidebar="footer"] [data-sidebar="menu"]:first-child [data-sidebar="menu-button"] svg {
  position: absolute !important;
  left: 0.6rem !important;
  width: 1.25rem !important;
  height: 1.25rem !important;
}

/* Add spacing for Documentation text to match other nav buttons */
[data-sidebar="footer"] [data-sidebar="menu"]:first-child [data-sidebar="menu-button"] span {
  margin-left: 0.7rem !important;
}

/* Collapsed state - keep icon visible */
[data-state="collapsed"]
  [data-sidebar="footer"]
  [data-sidebar="menu"]:first-child
  [data-sidebar="menu-button"] {
  padding-left: var(--spacing-2xl) !important;
  justify-content: flex-start !important;
}

/* Ensure icon stays visible when collapsed */
[data-state="collapsed"]
  [data-sidebar="footer"]
  [data-sidebar="menu"]:first-child
  [data-sidebar="menu-button"]
  svg {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* ===== FOOTER GAP OVERRIDE ===== */
/* Reduce gap between Guides and User buttons in footer to 1px */
[data-sidebar="footer"] {
  gap: 1px !important;
}
